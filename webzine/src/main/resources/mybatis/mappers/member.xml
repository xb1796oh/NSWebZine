<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.nds.webzine.dao.MemberDAO">

	<!-- mysql 연결 test -->
	<select id="selectMember" resultType="com.nds.webzine.dto.Member" >
		<![CDATA[
			select * from member where id="1234"
		]]>
	</select>
	
	<!-- login 회원 정보 check -->
	<select id="memberCheck" parameterType="map" resultType="boolean">
		<![CDATA[
			select EXISTS (select * from member where id=#{id} and password=#{password} limit 1) as success;
		]]>
	</select>
		
	<!-- 구독서비스 신청 및 이메일 등록 -->
	<update id="updateSubscribe" parameterType="map">
		<![CDATA[
			update member set email=#{email}, subscribe=true where id=#{id}
		]]>
	</update>
	
	<!-- 회원 이메일 list -->
	<select id="selectSubscribedEmailList" resultType="String">
		<![CDATA[
			select email from member where subscribe=1
		]]>
	</select>
	
</mapper>